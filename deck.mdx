import { CodeSurfer } from "code-surfer";
import { vsDark } from "@code-surfer/themes";

export const theme = vsDark;

# These 7 shell tricks will blow your mind! ðŸ¤¯

<img src="https://github.com/warrenseine/shell-tricks/blob/master/shell.png?raw=true" />

---

<CodeSurfer>

```bash title="Shorter error output redirection"
echo "Error!" >/dev/stderr

# can be written
echo "Error!" 1>&2

# or, shorter
echo "Error!" >&2

# or better, at the beginning of the line
>&2 echo "Error!"
```

```diff 1
```

```diff 3:4
```

```diff 6:7
```

```diff 9:10
```

```bash title="Change directory quickly"
# home, just like `cd ~`
cd

# previous directory
cd -

# skip `cd` completely (zsh-specific)
setopt autocd

# with a stack
pushd foo       # in /foo
pushd bar       # in /foo/bar
popd            # in /foo
popd            # in /
```

```diff 1:2

```

```diff 4:5

```

```diff 7:8

```

```diff 10:15

```

```bash title="Debug shell scripts"
# exit on error
set -e

# print all the commands
set -x

# print all the commands and inputs, even more verbose
set -v
```

```diff 1:2

```

```diff 4:5

```

```diff 7:8

```

```bash title="Read files"
# stream file content
tail -f file.log

# cat, but backwards
tac file.log
```

```diff 1:2

```

```diff 4:5

```

```bash title="VS Code as default editor"
export EDITOR="code -w"

# now you can even edit the current command line
# in VS Code with Ctrl + X, Ctrl + E
```

```diff 1

```

```diff 3:4

```

```bash title="Default values"
WORKSPACE="${WORKSPACE:-/path/to/workspace}"

: "${WORKSPACE:=/path/to/workspace}"
```

```diff 1

```

```diff 3

```

```bash title="Ternaries"
true && X=42 || X=51

[ -f package.json ] && npm start || {
  >&2 echo "Missing package.json"
  exit 1
}
```

```diff 1

```

```diff 3:6

```
</CodeSurfer>

---

Good reads:
- [The Art of the Command-line](https://github.com/jlevy/the-art-of-command-line)
- [ShellCheck](https://github.com/koalaman/shellcheck)
